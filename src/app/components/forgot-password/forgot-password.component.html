<div class="forgot-password-container">
    <div class="forgot-password-card">
      <div class="card-header">
        <button (click)="goBack()" class="btn-back" title="Volver al login">
          â† Volver
        </button>
        <h2>Â¿Olvidaste tu contraseÃ±a?</h2>
        <p>Ingresa tu email y te enviaremos un enlace para restablecer tu contraseÃ±a</p>
      </div>
  
      <div class="card-body">
        <!-- Mensaje de Ã©xito -->
        <div *ngIf="message" class="alert alert-success">
          <div class="alert-icon">âœ…</div>
          <div class="alert-content">
            <strong>Â¡Email enviado!</strong>
            <p>{{ message }}</p>
            <small>Redirigiendo al login...</small>
          </div>
        </div>
  
        <!-- Mensaje de error -->
        <div *ngIf="error" class="alert alert-error">
          <div class="alert-icon">âŒ</div>
          <div class="alert-content">
            <strong>Error</strong>
            <p>{{ error }}</p>
          </div>
        </div>
  
        <!-- Formulario -->
        <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" *ngIf="!message">
          <div class="form-group">
            <label for="email">Email *</label>
            <div class="input-group">
              <img src="/assets/icons/email.svg" alt="Email" class="input-icon" style="width: 16px; height: 16px;">
              <input 
                type="email"
                id="email"
                formControlName="email"
                class="form-control"
                [class.is-invalid]="submitted && f['email'].errors"
                placeholder="tu-email@ejemplo.com"
                autocomplete="email"
              >
            </div>
            
            <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
              <small *ngIf="f['email'].errors?.['required']">
                El email es requerido
              </small>
              <small *ngIf="f['email'].errors?.['email']">
                Ingresa un email vÃ¡lido
              </small>
            </div>
          </div>
  
          <button 
            type="submit" 
            class="btn btn-primary btn-full"
            [disabled]="loading"
          >
            <span *ngIf="loading" class="spinner"></span>
            <span *ngIf="!loading">ğŸ“¤ Enviar enlace de recuperaciÃ³n</span>
            <span *ngIf="loading">Enviando...</span>
          </button>
        </form>
  
        <!-- Enlaces adicionales -->
        <div class="additional-links" *ngIf="!message">
          <p>
            Â¿Recordaste tu contraseÃ±a? 
            <a routerLink="/login" class="link">Iniciar sesiÃ³n</a>
          </p>
          <p>
            Â¿No tienes cuenta? 
            <a routerLink="/register" class="link">Registrarse</a>
          </p>
        </div>
      </div>
    </div>
  
    <!-- InformaciÃ³n adicional -->
    <div class="info-section" *ngIf="!message">
      <div class="info-card">
        <h3><i class="fas fa-lightbulb" style="margin-right: 0.5rem;"></i> Â¿QuÃ© sucede despuÃ©s?</h3>
        <ul>
          <li><i class="fas fa-envelope" style="margin-right: 0.5rem;"></i> RecibirÃ¡s un email en tu bandeja de entrada</li>
          <li><i class="fas fa-link" style="margin-right: 0.5rem;"></i> Haz clic en el enlace del email</li>
          <li><i class="fas fa-key" style="margin-right: 0.5rem;"></i> Crea una nueva contraseÃ±a segura</li>
          <li>âœ… Â¡Listo! Ya puedes iniciar sesiÃ³n</li>
        </ul>
      </div>
    </div>
  </div>